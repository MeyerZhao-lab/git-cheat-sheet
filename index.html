<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/bootstrap.min.css">
  <link rel="stylesheet" href="./css/prism.css">
  <link rel="stylesheet" href="./css/main.css">
  <title>git-cheat-sheet</title>
</head>
<body>


<!-- <nav class="py-3 navbarbox">
  <ul class="nav nav-pills " id="onepage-nav">
    <li class="nav-item"><a href="#安装" class="nav-link">安装</a></li>
    <li class="nav-item"><a href="#配置工具" class="nav-link">配置工具</a></li>
    <li class="nav-item"><a href="#CreateRemote" class="nav-link">Create Remote</a></li>
    <li class="nav-item"><a href="#生成SSH秘钥" class="nav-link">生成SSH秘钥</a></li>
    <li class="nav-item"><a href="#查看修改" class="nav-link">查看修改</a></li>
    <li class="nav-item"><a href="#分支管理" class="nav-link">分支管理</a></li>
    <li class="nav-item"><a href="#同步更改" class="nav-link">同步更改</a></li>
    <li class="nav-item"><a href="#跟踪分支" class="nav-link">跟踪分支</a></li>
    <li class="nav-item"><a href="#cherry-pick" class="nav-link">cherry-pick</a></li>
    <li class="nav-item"><a href="#回滚" class="nav-link">回滚</a></li>
    <li class="nav-item"><a href="#Checkout" class="nav-link">Checkout</a></li>
    <li class="nav-item"><a href="#储藏工作" class="nav-link">储藏工作</a></li>
    <li class="nav-item"><a href="#Clean" class="nav-link">清理工作目录</a></li>
    <li class="nav-item"><a href="#推荐拉取推送流程" class="nav-link">拉取推送流程</a></li>
    <li class="nav-item"><a href="#查看上游" class="nav-link">查看上游</a></li>
  </ul>
</nav> -->
<div class="app">
<header>
  <h1 class="h1 text-center">Git 速查表 备忘单</h1>
  <a href="./docs" class="nav-link">Git 文档</a>
  <a href="https://www.progit.cn/" class="nav-link">Pro Git 手册</a>
  <a class="nav-link p-2" href="https://github.com/Meyerzh/git-cheat-sheet" target="_blank" rel="noopener">
    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" class="navbar-nav-svg d-inline-block align-text-top" viewBox="0 0 512 499.36" role="img"><title>GitHub</title><path fill="currentColor" fill-rule="evenodd" d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"></path></svg>
    <small class="ms-2">GitHub</small>
  </a>
</header>
<div class="container">

<div class=" row">
<div class="masonry">

<!-- 安装 -->
<div class="item">
  <h2 id="安装">安装</h2>
  <p>Git 官网：<a href="https://git-scm.com/">git-scm.com</a></p>
</div>

<!-- 配置工具 -->
<div class="item">
<h2 id="配置工具">配置工具</h2>
<p>对你的commit操作设置关联的用户名</p>
<pre><code class="language-bash">git config --global user.name &quot;[name]&quot;
</code></pre>
<p>对你的commit操作设置关联的邮箱地址</p>
<pre><code class="language-bash">git config --global user.email &quot;[address]&quot;
</code></pre>
<p>检查配置</p>
<pre><code class="language-bash">git config --global --list
git config --global user.name
git config --global user.email
</code></pre>
<p>启用有帮助的彩色命令输出</p>
<pre><code class="language-bash">git config --global color.ui auto
</code></pre>
<p>修改commit Author 信息</p>
<pre><code class="language-bash">git commit --amend --author="Meyerzh &lt;meyerz@ciandt.com&gt;" --no-edit
</code></pre>
</div>

<!-- CreateRemote -->
<div class="item">
<h2 id="CreateRemote">Create Remote</h2>
<p>当着手于一个新的仓库时，你只需创建一次。要么在本地创建，然后推送到 GitHub；要么通过 clone 一个现有仓库。</p>
<pre><code class="language-bash">cd ~/my_peoject_directory
git init
</code></pre>
<p>在使用过 <code>git init</code> 命令后，使用以下命令将本地仓库与一个 GitHub 上的空仓库连接起来：</p>
<pre><code class="language-bash">git remote add origin [url]
</code></pre>
<p>将现有目录转换为一个 Git 仓库</p>
<pre><code class="language-bash">git clone [url]
</code></pre>
<p>删除远端仓库</p>
<pre><code class="language-bash">git remote rm origin
</code></pre>
<p>修改远端仓库地址</p>
<pre><code class="language-bash">git remote set-url origin [new_git_address]
</code></pre>
</div>

<!-- 生成SSH秘钥 -->
<div class="item">
<h2 id="生成SSH秘钥">生成SSH秘钥</h2>
<p>你可以按如下命令来生成 sshkey:</p>
<pre><code class="language-bash">ssh-keygen -t ed25519 -C "your_email@xxx.com"
</code></pre>
<p>按照提示完成三次回车，即可生成 ssh key。通过查看 ~/.ssh/id_ed25519.pub 文件内容，获取到你的 public key</p>
<pre><code class="language-bash">cat ~/.ssh/id_ed25519.pub
</code></pre>
<p>复制生成后的 ssh key，通过仓库主页 「管理」->「部署公钥管理」->「添加部署公钥」 ，添加生成的 public key 添加到仓库中。
</p>
<p>添加后，在终端（Terminal）中输入
</p>
<pre><code class="language-bash">ssh -T git@github.com
ssh -T git@github2.com

ssh -T git@gitee.com
</code></pre>

</div>


<!-- 查看修改 -->
<div class="item">
<h2 id="查看修改">查看修改</h2>
<p>查看修改历史</p>
<pre><code class="language-bash">git log
git log -p -2
# -p 显示每次提交的修改
# -2 最近两次的提交
</code></pre>
<p>列出文件的历史版本</p>
<pre><code class="language-bash">git log --fllow [file]
</code></pre>
<p>查找带有指定关键字 log</p>
<pre><code class="language-bash">git log --grep=&lt;pattern&gt;
</code></pre>
<p>查看代码修改</p>
<pre><code class="language-bash">git diff # 未暂存diff
git diff --staged # 已暂存diff
</code></pre>
<p>比较两个分支之间的差异</p>
<pre><code class="language-bash">git diff [first-branch]...[second-branch]
</code></pre>
<p>查看当前分支最新的log</p>
<pre><code class="language-bash">git show
# or
git show [commit]
</code></pre>
</div>

<!-- 分支管理 -->
<div class="item">
<h2 id="分支管理">分支管理</h2>
<p>创建一个新的分支(基于当前分支)</p>
<pre><code class="language-bash">git branch [branch-name]
</code></pre>
<p>切换到新创建分支</p>
<pre><code class="language-bash">git checkout [branch-name]
</code></pre>
<p>创建并切换到新分支</p>
<pre><code class="language-bash">git checkout -b [branch-name]
</code></pre>
<p>创建一个新的分支(基于其他分支)</p>
<pre><code class="language-bash">git checkout -b [branch-name] [branch-other]
</code></pre>
<p>返回上一次分支</p>
<pre><code class="language-bash">git checkout -
</code></pre>
<p>删除分支</p>
<pre><code class="language-bash">git branch -d [branch-name]
</code></pre>
<p>Merge <strong>FeatureA</strong> into <strong>Master</strong></p>
<pre><code class="language-bash">git checkout Master
git merge FeatureA
</code></pre>
</div>

<!-- 同步更改 -->
<div class="item">
<h2 id="同步更改">同步更改</h2>
<p>同步仓库代码</p>
<pre><code class="language-bash">git fetch
</code></pre>
<p>查看修改的代码</p>
<pre><code class="language-bash"># 显示不在 featureA, 在 origin/featureA的log
git log featureA..origin/featureA
</code></pre>
<p>将代码合并进本地分支</p>
<pre><code class="language-bash">git merge origin/featureA
</code></pre>
<p>提交自己的本地修改</p>
<pre><code class="language-bash">git commit -am &#39;small tweak&#39;
</code></pre>
<p>将所有本地分支提交上传到 GitHub</p>
<pre><code class="language-bash">git push
</code></pre>
<p>使用来自 GitHub 的对应远端分支的所有新提交更新你当前的本地工作分支。</p>
<pre><code class="language-bash"># git pull 是 git fetch 和 git merge 的结合
git pull
</code></pre>
</div>

<!-- 跟踪分支 -->
<div class="item">
<h2 id="跟踪分支">跟踪分支</h2>
<p>从一个远程跟踪分支检出一个本地分支会自动创建一个叫做 “跟踪分支”（有时候也叫做 “上游分支”）</p>
<p>当克隆一个仓库时，它通常会自动地创建一个跟踪 origin/master 的 master 分支</p>
<p>(git checkout -b [branch] [remotename]/[branch])</p>
<pre><code class="language-bash">git checkout -b master origin/master
</code></pre>
<p>↑这是一个十分常用的操作所以 Git 提供了 --track 快捷方式</p>
<pre><code class="language-bash">git checkout --track origin/serverfix
# 把远端仓库 serverfix 检出到本地
</code></pre>
<p>如果想要将本地分支与远程分支设置为不同名字，你可以轻松地增加一个不同名字的本地分支的上一个命令</p>
<pre><code class="language-bash">git checkout -b sf origin/serverfix
</code></pre>
<p>想要修改正在跟踪的上游分支，你可以在任意时间使用 -u 或 --set-upstream-to 选项运行 git branch 来显式地设置。</p>
<pre><code class="language-bash">git branch -u origin/serverfix
</code></pre>
<p>记得先fetch一下远端仓库</p>
<pre><code class="language-bash">git fetch
git fetch [remotename]
git fetch --all
</code></pre>
</div>

<!-- cherry-pick -->
<div class="item">
<h2 id="cherry-pick">Cherry-pick</h2>
<p>如果你希望将提交 e43a6 拉取到 master 分支，你可以运行：</p>
<pre><code class="language-bash">git checkout master
git cherry-pick e43a6
</code></pre>
<p>如果你希望把 ADP-test 的最新commit 拉取到 develop，你可以运行</p>
<pre><code class="language-bash">git checkout develop # 切换到 develop
git cherry-pick ADP-test
</code></pre>
</div>

<!-- 回滚 -->
<div class="item">
<h2 id="回滚">回滚 Reset</h2>
<p>当需需要代码回滚到前一个版本</p>
<pre><code class="language-bash">git reset --hard HEAD^
git reset --hard commid_id # 回滚代码到指定版本
</code></pre>
</div>

<!-- git Checkout -->
<div class="item">
<h2 id="Checkout">Checkout</h2>
<p>快速切换commit的代码</p>
<pre><code class="language-bash">git checkout commit-id
</code></pre>
<p>从 commit-id 检出分支</p>
<pre><code class="language-bash">git checkout -b branch-name commit-id
</code></pre>
<p>返回上一次分支</p>
<pre><code class="language-bash">git checkout -
</code></pre>
</div>

<!-- 储藏工作 -->
<div class="item">
<h2 id="储藏工作">储藏工作</h2>
<p>当前工作开发到一半 需要切换分支做其他工作，需要暂时保存当前分支的代码</p>
<pre><code class="language-bash">git stash
git stash list # 查看储藏列表
git stash apply # 应用最新的储藏
git stash apply stash@{2} # 应用指定储藏
git stash pop # 应用最新储藏，然后将该储藏删除
git stash drop # 删除储藏
git stash drop stash@{0}  # 删除指定储藏
git stash --all
</code></pre>
<p>从储藏检出分支</p>
<pre><code class="language-bash">git stash branch textchange
</code></pre>
</div>

<!-- 清理工作目录 -->
<div class="item">
<h2 id="Clean">Clean</h2>
<p>删除未追踪的文件 清空工作目录</p>
<pre><code class="language-bash">git clean -d -n
git clean -f -d
</code></pre>
<p>从储藏检出分支</p>
<pre><code class="language-bash">git stash branch textchange
</code></pre>
</div>

<!-- 推荐拉取推送流程 -->
<div class="item">
<h2 id="推荐拉取推送流程">拉取-推送流程 (推荐)</h2>
<p>拉取远端代码</p>
<pre><code class="language-bash">git fetch origin
</code></pre>
<p>比较远端和本地的代码差异</p>
<pre><code class="language-bash">git log featureA..origin/featureA
</code></pre>
<p>确认没问题之后合并进本地</p>
<pre><code class="language-bash">git merge origin/origin/featureA
</code></pre>
<p>然后提交本地的修改</p>
<pre><code class="language-bash">git commit -am "本地的修改描述."
git push
</code></pre>

</div>

<!-- 查看上游 -->
<div class="item">
<h2 id="查看上游">查看上游父级分支，查找log </h2>
<p>查看git分支是基于哪个分支创建的</p>
<pre><code class="language-bash">git reflog show [childBranch]
</code></pre>
<p>查找带有指定关键字 log</p>
<pre><code class="language-bash">git log --grep=&lt;pattern&gt;
</code></pre>
</div>

<!-- 帮助 -->
<div class="item">
<h2 id="帮助">帮助</h2>
<p>查看文档帮助</p>
<pre><code class="language-bash">git &lt;COMMAND&gt; --help
</code></pre>
<p>e.g.</p>
<pre><code class="language-bash">git config --help
</code></pre>
<p>你也可以使用 git help config， 在跟一个选项 -w 打开网页版</p>
<pre><code class="language-bash">git help config -w
</code></pre>
</div>

<!-- .gitignore 文件 -->
<div class="item">
<h2 id="gitignore-文件">.gitignore 文件</h2>
<p>有时一些文件最好不要用 Git 跟踪。这通常在名为 <code>.gitignore</code> 的特殊文件中完成。你可以在 <a href="https://github.com/github/gitignore">github.com/github/gitignore</a> 找到有用的 <code>.gitignore</code> 文件模板。</p>
</div>

<div class="item">
<h2 id="术语表">术语表</h2>
<ul>
<li><strong>git</strong>: 一个开源的分布式版本控制系统</li>
<li><strong>GitHub</strong>: 一个托管和协作管理 Git 仓库的平台</li>
<li><strong>commit 提交</strong>: 一个 Git 对象，是你整个仓库的快照的哈希值</li>
<li><strong>branch 分支</strong>: 一个轻型可移动的 commit 指针</li>
<li><strong>clone</strong>: 一个仓库的本地版本，包含所有提交和分支</li>
<li><strong>remote 远端</strong>: 一个 GitHub 上的公共仓库，所有小组成员通过它来交换修改</li>
<li><strong>fork</strong>: 一个属于另一用户的 GitHub 上的仓库的副本</li>
<li><strong>pull request 拉取请求</strong>: 一处用于比较和讨论分支上引入的差异，且具有评审、评论、集成测试等功能的地方</li>
<li><strong>HEAD</strong>: 代表你当前的工作目录。使用<code>git checkout</code> 可移动 HEAD 指针到不同的分支、标记(tags)或提交</li>
</ul>
</div>

</div> <!-- end masonry -->
</div>
</div> <!-- end container -->
</div>
<script src="./js/bootstrap.bundle.min.js"></script>
<script src="./js/prism.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="js/onepageNav.js"></script>
<script type="text/javascript">
  // jQuery('.nav-link').onePgaeNav({
  //   wrapper : '#onepage-nav'
  // });
</script>

</body>
</html>